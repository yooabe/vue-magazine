(function(e){function t(t){for(var s,n,a=t[0],l=t[1],c=t[2],u=0,f=[];u<a.length;u++)n=a[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,n=1;n<r.length;n++){var a=r[n];0!==o[a]&&(s=!1)}s&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var s={},n={app:0},o={app:0},i=[];function a(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"a9dc9efd"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={about:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var s="css/"+({about:"about"}[e]||e)+"."+{about:"eea4fa11"}[e]+".css",o=l.p+s,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var c=i[a],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===o))return t()}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){c=f[a],u=c.getAttribute("data-href");if(u===s||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[e],d.parentNode.removeChild(d),r(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){n[e]=0})));var s=o[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,r){s=o[e]=[t,r]}));t.push(s[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=a(e);var f=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var r=o[e];if(0!==r){if(r){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",f.name="ChunkLoadError",f.type=s,f.request=n,r[1](f)}o[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(r,s,function(t){return e[t]}.bind(null,s));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue-magazine/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var f=0;f<c.length;f++)t(c[f]);var d=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"04ed":function(e,t,r){},"22f9":function(e,t,r){},"4f8b":function(e,t,r){"use strict";var s=r("aa25"),n=r.n(s);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("46a1"),r("450d");var s=r("e5f2"),n=r.n(s),o=(r("cb70"),r("b370")),i=r.n(o),a=(r("960d"),r("defb")),l=r.n(a),c=(r("bd49"),r("18ff")),u=r.n(c),f=(r("06f1"),r("6ac9")),d=r.n(f),p=(r("1951"),r("eedf")),g=r.n(p),m=(r("10cb"),r("f3ad")),h=r.n(m),v=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},w=[],y={components:{}},_=y,P=(r("5c0b"),r("2877")),j=Object(P["a"])(_,b,w,!1,null,null,null),$=j.exports,C=(r("d3b7"),r("8c4f")),U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("Header"),r("magazine")],1)},k=[],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"magazine"},e._l(e.arr,(function(t,s){return r("div",{key:s},[r("div",{staticClass:"box"},[r("img",{attrs:{src:t.url,name:t.name},on:{click:e.pu}}),r("p",[e._v(e._s(t.name))])])])})),0)},E=[],T=(r("7db0"),r("fb6a"),r("b0c0"),{data:function(){return{arr:[],newProject:{name:"",url:""}}},created:function(){var e=this,t=r("c72e"),s=new t.Query("_File");s.equalTo("mime_type","image/jpeg"),s.find().then((function(t){for(var r=0;r<t.length;r++)e.arr.push({name:t[r].attributes.name.slice(0,-4),url:t[r].attributes.url})}),(function(e){console.log(JSON.stringify(e))}))},methods:{pu:function(e){this.$store.state.userConfirm?(this.newProject={name:e.target.name,url:e.target.src},this.updateProject(),this.$store.state.updateProject?this.updateSuccess():this.updateError()):this.noLog()},updateProject:function(){this.$store.commit("updateProject",this.newProject)},updateSuccess:function(){var e=this.$createElement;this.$notify({title:"",message:e("i",{style:"color: teal"},"收藏成功"),position:"bottom-right"})},updateError:function(){var e=this.$createElement;this.$notify({title:"",message:e("i",{style:"color: rgb(168, 23, 23)"},"收藏重复"),position:"bottom-right"})},noLog:function(){var e=this.$createElement;this.$notify({title:"操作失败",message:e("i",{style:"color: rgb(168, 23, 23)"},"请先登录")})}}}),N=T,O=(r("afb5"),Object(P["a"])(N,x,E,!1,null,null,null)),S=O.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-top"},[s("img",{staticClass:"logo",attrs:{src:r("b11e")}}),s("p",{staticClass:"title"},[e._v("致力于分享有趣的杂志")]),s("div",{staticClass:"button-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.userConfirm,expression:"!$store.state.userConfirm"}]},[s("el-button",{attrs:{type:"text"},on:{click:e.log}},[e._v("登陆")]),s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"马上注册！收藏并保存您最喜爱的杂志。"}},[s("el-button",{attrs:{slot:"reference",type:"primary"},on:{click:e.sign},slot:"reference"},[e._v("注册")])],1)],1),s("info")],1)]),s("div",{staticClass:"commend"},[e._v("今日推荐")]),s("User",{ref:"changeLog",attrs:{revisible:e.revisible},on:{quit:e.sign}})],1)},L=[],z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user"},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.revisible,expression:"this.revisible"}],staticClass:"box"},[s("div",{staticClass:"box-container"},[s("div",[s("div",{staticClass:"quit",on:{click:e.quit}},[s("i",{staticClass:"el-icon-close"})]),s("img",{attrs:{src:r("b11e")}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.registerToggle,expression:"registerToggle"}]},[s("p",[e._v("期待您的加入！")]),s("form",{on:{submit:e.signin}},[s("label",{attrs:{for:"sUser"}},[e._v("用户名")]),s("el-input",{attrs:{placeholder:"请输入用户名",id:"sUser"},model:{value:e.sUser,callback:function(t){e.sUser=t},expression:"sUser"}}),s("label",{attrs:{for:"sPassword"}},[e._v("密码")]),s("el-input",{attrs:{placeholder:"请输入密码",id:"sPassword","show-password":""},model:{value:e.sPassword,callback:function(t){e.sPassword=t},expression:"sPassword"}}),s("el-button",{attrs:{type:"primary"},on:{click:e.signin}},[e._v("注册")])],1),e._v("已有账号？ "),s("span",{staticClass:"toogle",on:{click:e.toggle}},[e._v("登陆")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.registerToggle,expression:"!registerToggle"}]},[s("p",[e._v("欢迎回来!")]),s("form",{on:{submit:e.login}},[s("label",{attrs:{for:"lUser"}},[e._v("用户名")]),s("el-input",{attrs:{placeholder:"请输入用户名",id:"lUser"},model:{value:e.lUser,callback:function(t){e.lUser=t},expression:"lUser"}}),s("label",{attrs:{for:"lPassword"}},[e._v("密码")]),s("el-input",{attrs:{placeholder:"请输入密码",id:"lPassword","show-password":""},model:{value:e.lPassword,callback:function(t){e.lPassword=t},expression:"lPassword"}}),s("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登陆")])],1),e._v("还未注册？ "),s("span",{staticClass:"toogle",on:{click:e.toggle}},[e._v("加入")])])])])])])},D=[],M=(r("baff"),{props:{revisible:Boolean},data:function(){return{registerToggle:!0,sUser:"",sPassword:"",lUser:"",lPassword:"",temporary:""}},methods:{quit:function(){this.$emit("quit")},toggle:function(){this.registerToggle=!this.registerToggle},reset:function(){this.sUser="",this.sPassword="",this.lUser="",this.lPassword=""},signin:function(e){var t=this,s=r("c72e"),n=new s.User;n.setUsername(this.sUser),n.setPassword(this.sPassword),n.signUp().then((function(e){console.log("注册成功，key:".concat(e.id)),t.registerToggle=!1,t.signSuccess()}),(function(e){t.error(e)})),this.reset(),e.preventDefault()},login:function(){var e=this;this.temporary=this.lUser;var t=r("c72e");t.User.logIn(this.lUser,this.lPassword).then((function(t){console.log("登陆成功，key:".concat(t.id)),e.updateUser(),e.logSuccess(),e.quit()}),(function(t){e.error(t)})),this.reset()},updateUser:function(){this.$store.commit("updateUser",this.temporary)},signSuccess:function(){var e=this.$createElement;this.$notify({title:"注册成功",message:e("i",{style:"color: teal"},"已自动跳转到登陆页面")})},logSuccess:function(){var e=this.$createElement;this.$notify({title:"登陆成功",message:e("i",{style:"color: teal"},"tips:轻点喜欢的杂志即可添加到收藏夹"),duration:0})},error:function(e){var t=this.$createElement;this.$notify({title:"操作失败",message:t("i",{style:"color: rgb(168, 23, 23)"},""+e)})}}}),A=M,B=(r("d2d3"),Object(P["a"])(A,z,D,!1,null,null,null)),H=B.exports,I=r("b3f1"),J={components:{User:H,info:I["a"]},data:function(){return{input:"",visible:!1,revisible:!1,newtime:""}},methods:{sign:function(){this.revisible=!this.revisible,this.$refs.changeLog.registerToggle=!0},log:function(){this.revisible=!this.revisible,this.$refs.changeLog.registerToggle=!1},toggle:function(){this.registerToggle=!this.registerToggle},date:function(){return this.newtime=new Date,this.newtime=this.newtime.getMonth()+1+"/"+this.newtime.getDate(),this.newtime}}},F=J,G=(r("eadf"),Object(P["a"])(F,q,L,!1,null,null,null)),K=G.exports,R={name:"Main",components:{magazine:S,Header:K}},Q=R,X=Object(P["a"])(Q,U,k,!1,null,null,null),V=X.exports;v["default"].use(C["a"]);var W=[{path:"/",name:"Main",component:V},{path:"/homepage",component:function(){return r.e("about").then(r.bind(null,"487a"))}}],Y=new C["a"]({mode:"history",base:"/vue-magazine/",routes:W}),Z=Y,ee=(r("c740"),r("a434"),r("2f62"));v["default"].use(ee["a"]);var te=new ee["a"].Store({state:{userName:"",userConfirm:!1,userProject:[],updateProject:!1},getters:{getUserName:function(e){return e.userName},getUserProject:function(e){return e.userProject}},mutations:{updateUser:function(e,t){e.userConfirm=!0,e.userName=t},updateProject:function(e,t){var r=e.userProject.find((function(e){return e.name==t.name}));r?e.updateProject=!1:(e.updateProject=!0,e.userProject.push(t))},deleteProject:function(e,t){var r=e.userProject;r.splice(r.findIndex((function(e){return e.name==t})),1)}},actions:{},modules:{}}),re=r("c72e"),se=r.n(re);v["default"].use(h.a),v["default"].use(g.a),v["default"].use(d.a),v["default"].use(u.a),v["default"].use(l.a),v["default"].use(i.a),v["default"].prototype.$notify=n.a,v["default"].use(se.a),v["default"].config.productionTip=!1,new v["default"]({router:Z,store:te,render:function(e){return e($)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var s=r("9c0c"),n=r.n(s);n.a},"9c0c":function(e,t,r){},aa25:function(e,t,r){},afb5:function(e,t,r){"use strict";var s=r("c3e5"),n=r.n(s);n.a},b11e:function(e,t,r){e.exports=r.p+"img/crocat.826c2bad.gif"},b3f1:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.userConfirm,expression:"$store.state.userConfirm"}]},[r("div",{staticClass:"userInfo"},[r("el-dropdown",[r("span",{staticClass:"el-dropdown-link"},[e._v(" 欢迎回来 , "),r("span",{staticClass:"userName"},[e._v(e._s(e.$store.getters.getUserName))]),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("router-link",{attrs:{to:"/homepage"}},[r("el-dropdown-item",[e._v("个人中心")])],1),r("div",{on:{click:function(t){return e.logout()}}},[r("router-link",{attrs:{to:"/"}},[r("el-dropdown-item",[e._v("注销")])],1)],1)],1)],1)],1)])},n=[],o={data:function(){return{visible:!1}},methods:{logout:function(){this.$store.state.userConfirm=!1,this.$store.state.userName="";var e=this.$createElement;this.$notify({title:"注销成功",message:e("i",{style:"color: teal"},"希望你这趟旅程有所收获")})}}},i=o,a=(r("4f8b"),r("2877")),l=Object(a["a"])(i,s,n,!1,null,null,null);t["a"]=l.exports},baff:function(e,t,r){var s=r("c72e"),n="UkeRDYUGsUJqSGNXBHFsS9Qg-gzGzoHsz",o="WbxKmX7zgd5zBqNRjE72aDOV";s.init({appId:n,appKey:o,serverURL:"https://ukerdyug.lc-cn-n1-shared.com"})},c3e5:function(e,t,r){},d2d3:function(e,t,r){"use strict";var s=r("22f9"),n=r.n(s);n.a},eadf:function(e,t,r){"use strict";var s=r("04ed"),n=r.n(s);n.a}});
//# sourceMappingURL=app.5048d523.js.map